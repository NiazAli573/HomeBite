# Railway Deployment Configuration
# For deploying HomeBite backend to Railway

# Use Python 3.11
NIXPACKS_PYTHON_VERSION=3.11

# Install dependencies
NIXPACKS_INSTALL="pip install -r requirements.txt gunicorn dj-database-url"

# Build: Run migrations and collect static files
# IMPORTANT: Migrations MUST run during build to create database tables
NIXPACKS_BUILD="python manage.py migrate --noinput && python manage.py collectstatic --noinput"

# Start Gunicorn server
NIXPACKS_START="gunicorn homebite.wsgi:application --bind 0.0.0.0:\$PORT"
